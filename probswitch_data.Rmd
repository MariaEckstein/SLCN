---
title: "Prob switch analyses"
output: html_notebook
---

# Set up parameters

```{r Set up parameters}
for (learning_style in c("RL", "Bayes")) {
  for (method in c("direct", "epsilon-greedy", "softmax")) {
    for (param_name in c("alpha", "beta", "epsilon", "perseverance", "decay", "alphabetaepsilonperseverancedecay")) {
            
      data = paste(learning_style, "/", method, "_fit_", param_name, sep = "")
      data_dir = ifelse(data == "human", "C:/Users/maria/MEGAsync/SLCNdata/PSResults", paste("C:/Users/maria/MEGAsync/SLCNdata/", data, sep = ""))
      plot_dir = file.path(data_dir, "plots")
      gg_save = T
      unlink(plot_dir, recursive=TRUE)
      dir.create(plot_dir)
      
      library("ggplot2"); theme_set(theme_bw())
      library("plyr")
      library("R.matlab")
      library("reshape2")
      source("functions.R")
      
      all_files = read_in_files()
      all_files_sum = ddply(subset(all_files, !is.na(outcome_12_back)),
                            .(sID, outcome_12_back, choice_12_back), summarize,
                            choice = mean(choice_left, na.rm = T))
      all_files_sum2 = ddply(subset(all_files, !is.na(trialsinceswitch)),
                            .(sID, trialsinceswitch), summarize,
                            choice = mean(choice_left, na.rm = T),
                            RT = median(RT, na.rm = T))
      
      if (data != "human") {
        model_plots()
        genrec_plots()
      }
      paper_plots()
    }
  }
}
```
